## Tehtävänanto

Aloitin kurssin toisen tehtävän tekemistä 18.1.2024. Tehtävänä on
määrittää HyperV ohjelman verkko konfiguraatiot. Tätä varten luodaan
HyperV ohjelmalla virtuaalinen L3 kytkin joka mahdollistaa liikennöinnin
eri virtuaalikoneiden kanssa. Lisäksi NAT otetaan käyttöön Azuren
koneella

## HyperV virtuaalikytkimen asennus

![A screenshot of a computer Description automatically
generated](media/image1.png){width="6.2642104111986in"
height="5.972529527559055in"}Luon Azurekoneelle virtuaalisen kytkimen.
Tämä tapahtuu HyperV ohjelman avulla. HyperV ohjelmassa määritellään
sisäinen kytkin, joka luo lähiverkon tulevaisuudessa luotavien
virtuaalikoneille.

Nimesin verkkokortin "HyperVVSwitch". Valikosta valitsin internal
Network.

![A screenshot of a computer Description automatically
generated](media/image2.png){width="3.4444444444444446in"
height="3.7847222222222223in"}Seuraavaksi määritin juuri luodulle
verkkokortille statisen IP osoitteen. Ohjeen mukaan IP-osoitteeksi
määritellään 10.208.0.1 ja aliverkoksi 255.255.255.0. Asetukset
tapahtuvat Network and sharing centerin kautta.

![A screenshot of a computer program Description automatically
generated](media/image3.png){width="3.740972222222222in"
height="3.3541666666666665in"}Asetukset löytyvät verkkokortin
"Properties" valikon alla. Seuraavaksi tarkastin että asetukset astuivat
voimaan. Tähän käytin Powershell komentoa "Ipconfig /all". Komento
näyttää kaikki verkkokortit ja niiden tiedot.

## NAT käyttöönotto

Seuraavaksi otan NAT käyttöön Azure koneelle. NAT mahdollistaa myöhemmin
luotavien virtuaalikoneiden pääsyn "Avoimeen" internettiin. NAT avulla
isäntäkone osaa reitittää virtuaalikoneiden liikenne, jotka ovat
lähiverkossa yksityisillä IP- Osoitteilla, ulkomaailmaan. NAT on pakko
tehdä, että pääsy internettiin on mahdollista. Tehtävän ohjeissa on
Powershell komento joka ottaa NAT käyttöön isäntäkoneella.

\$netNAT = \"HyperVNAT\"

New-NetNat -Name \$netNAT -InternalIPInterfaceAddressPrefix
10.208.0.0/24

![A computer screen shot of a computer program Description automatically
generated](media/image4.png){width="4.479397419072616in"
height="2.4098458005249346in"}

NAT näyttäisi olevan käytössä nyt. Minulla jäi kuitenkin epäselväksi
miksi Azure virtuaalikoneeni ei voi pingata 8.8.8.8 osoitetta (Google
DNS palvelin) tai mitään muutan verkko-osoitetta. En voi täten todeta
toimiiko NAT tai muutenkiin onko verkkoasetukset asetettu oikein.
Kokeilin myös pingata Azurekoneen DNS palvelinta ja DHCP palvelinta
josta se on saannut IP osoitteensa 10.21.0.6. En ymmärrä miten AzureLab
toimii ja miksi en voi Azuren koneelta ottaa yhteyttä minnekään mutta
pystyn kuitenkin ottamaan internetin kautta etäyhteyden siihen.

## Dokumentointi

Viimeiseksi dokumentoin isäntäkoneen IP osoitteet työpöydälle .txt
tiedostona.

## Yhteenveto

Tehtävässä käsiteltiin asioita jotka olivat melko tuttuja itselleni.
Aikasemmilla kursseilla Tietoverkkojen toiminta sekä Linux palvelin
hallinointi kurssilta. Kuitenkin jäin ihmettelemään miten AzureLab
toimii ja miten se eroaa esimerkiksi Linoden kautta ostettujen
pilvipalveluiden kautta hankkimat virtuaalikoneet (Iaas).
