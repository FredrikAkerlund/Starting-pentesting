# Johdanto

Viikon tehtävänä on tutustua Fuzzaamiseen sekä salasanojen murtamista. Molemmat näistä asioista on minulle täysin tuntemattomia ja valitettavasti en päässyt osallistumaan luenolle. Joudun itseopiskelemaan kaikki viikon aiheet yksin.
## <u> x) Lue ja tiivistä </u>

### Find Hidden Web Directories - Fuzz URLs with ffuf

  - Fuff on ohjelma joka mahdollistaa piilotettujen tiedostojen löytämisen Websivuilta.
  - Tätä voidaan kutsua Fuzzamiseksi
  - Fuff on erittäin nopea ohjelma joka tuottaa tuhansia GET pyyntöjä kokeillakseen vastaako nettisivu pyyntöihin.
  - Fuff avulla voidaan automatisoida muutoin erittäin manuaalisen työn.
Lähde: https://terokarvinen.com/2023/fuzz-urls-find-hidden-directories/

### Cracking Passwords with Hashcat

  - Hashcat on työkalu jolla voidaan murtaa salasana tiivisteitä.
  - Salasana tiiviste on salasana joka on muunnettu tietyn algoritmin kanssa. Tiivistäminen on yksisuuntainen toiminto.
  - TIivisteitä voi kuitenkin kokeilla. Tähän tarkoitukseen Hashcat on luotu.
  - Hashcat tarvitsee sanalistan toimiakseen. Rockyou.txt on hyvin suosittu tiiviste sanakirja jossa on yli 14 miljoonaa tyypillistä tiivistettä.

Lähde: https://terokarvinen.com/2022/cracking-passwords-with-hashcat/
### Crack File Password With John

  - John the ripper on ohjelma joll voidaan murtaa eri formaatin salasanoja.
  - Johnin avulla voidaan esimerkiksi käyttää sanakirjoja murtaaksen salattuja tiedostoja.
  - John the ripper on hyvin samankaltainen ohjelma kuin Hashcat. Erona kuitenkin on että Hashcat vaikuttaa huomattavasti käyttäjä ystävällisemmältä käyttää.

Lähde: https://terokarvinen.com/2023/crack-file-password-with-john/

## <u> a) Asenna Hashcat ja testaa sitä </u>

Minulla on uusin Kali distro asennettuna ja siinä on asennettu uusin versio Hashcat ohjelmasta. Käytössäni on versio 6.2.6.

Minulla on myös asennetuna Hashid versio 3.1.4 sekä WGET. Näillä työkaluilla pystyn murtamaan Tero Karvisen esimerkki salasanan.

Esimerkkisalasana tiiviisteenä käytän Tero Karvisen ohjeessa olevaa tiivistettä 

    6b1628b016dff46e6fa35684be6acc96

Salasanan murtamiseen tarvitsen myös sanalistan. Onneksi Kali distrossa on jo valmiiksi ladattu useampi salasanalista. Listat löytyvät hakemistosta "/usr/share/wordlists"

Tässä tehtävässä käytän listaa "rockyou" mikä on hyvin suosittu ja sisältää yli 14 miljoonaa tunnettua salasanaa.

Selvittääkseni tiivisteen formaatin käytän seuraavaa komentoa:

    hashid -m 6b1628b016dff46e6fa35684be6acc96

Vastauksena saan seuraavanlaisen tuloksen. Kannattaa siis käyttää hyviä salanoja.

![image](https://github.com/FredrikAkerlund/Starting-pentesting/assets/122887178/5bdf053c-6596-4392-9590-cbe2a2a2116e)

Ensimmäisena formaattina kokeilen MD5 algoritmilla tehtyä tiivistettä. Hashcatissä tämä on tila `0`

![image](https://github.com/FredrikAkerlund/Starting-pentesting/assets/122887178/8722a992-1ef6-4e98-87c8-bcfbe65f9a2c)

Ohjelman ajettua läpi rockyou.txt tiedoston saan seuraavan ilmoituksen.

![image](https://github.com/FredrikAkerlund/Starting-pentesting/assets/122887178/3efa7b85-e50c-453f-a1fd-57d644d1b3d3)

Salasanan murtamiseen meni siis 0 sekunttia. 

Mitä komentoni teki:

  - sudo : ohjelma vaatii sudo käyttäjän oikeudet
  - hashcat : Ajaa ohjelman
  - -m 0 : tiivisteen tyyppi, käytin tässä esimerkissä MD5 algoritmia
  - '6b1628b016dff46e6fa35684be6acc96' : tiiviste jonka mursin
  - /usr/share/wordlists/rockyou.txt : sanalista jota käytin murtamiseen.
  - -o solved : Lippu joka tallentaa tuloksen työstökansioon nimeltä solved.
![image](https://github.com/FredrikAkerlund/Starting-pentesting/assets/122887178/aaf6471b-4e2b-46af-938c-abf23d22d41f)

Salasana on siis `summer`.

Hashcat vaikuttaa hyvin yksinkertaiselta käyttää.

Jotta tehtävässä olisi hieman haastetta haluan murtaa toisen tiivisteen jonka selkokielistä salasanaa en tiedä.

![image](https://github.com/FredrikAkerlund/Starting-pentesting/assets/122887178/c3d96760-73b3-4bb4-87ec-2ac7271df861)

Kyseessä on salasana `password` joka on salattu DES salauksella. Hashcat käyttää silloin moodia 1500

Ja tiedosto joka hashcat tuottaa näyttää seuraavanlaiselta:

![image](https://github.com/FredrikAkerlund/Starting-pentesting/assets/122887178/d05b9b46-f3c2-41f3-8a0a-fdeca64a401a)

Haluan vielä testata murtaa suomenkielistä salasanaa käyttäen `rockyou` sanalistaa. Salasanan jonka haluan murtaa on selkokielisenä:

    SalainenSalasana
Jotta saan selkokielisestä salasanasta tiivisteen käytän seuraavaa komentoa:

    echo -n "SalainenSalasana" | md5sum

Lähde: Chatgpt, kysymällä seuraavan kysymyksen saan komennon `how do i hash a string in kali linux`.

En tarvitse käyttää `hashid` ohjelmaa koska tiedän että tiiviste on tehty MD5 algoritmillä.

Komentoni näyttää seuraavanlaiselta:

    hashcat -m 0 '6d9f3a7ed4d276cfd46f721079971171' /usr/share/wordlists/rockyou.txt

Yllätyin koska Hascat ei löytänyt vastaavaa tiivistettä sanakirjasta. Hashcat palasi statuksella `exhausted` joka tarkoittaa että salasanalista käytiin läpi mutta vastaavuutta ei löytynyt.

![image](https://github.com/FredrikAkerlund/Starting-pentesting/assets/122887178/a388f7b0-791c-4d4f-a8a6-217eb02399ea)

Kokeilen vielä käyttää kaikkia sanalistoja jotka on Kalille valmiiksi asennettu. Yllätyin koska mitään osumaa ei löytynyt. Hashcat voi käyttää hakemistoa josta se etsii useita sanalistoja. Komento näyttää silloin tältä:

    hashcat -m 0 '6d9f3a7ed4d276cfd46f721079971171' /usr/share/wordlists/

Lähde: https://terokarvinen.com/2022/cracking-passwords-with-hashcat/

## <u> b) Salainen, mutta ei multa. Käytä Fuff Tero karvisen esimerkki tehtävään </u>



## <u> c) Asenna John The Ripper ja kokeile sen toiminta </u>

## <u> d) Fuffme. Asenna Ffufme harjoitusmaali paikallisesti omalle koneellesi. Ratkaise tehtävät</u>

## <u> e) Tee msfvenom-työkalulla haittaohjelma, joka soittaa kotiin (reverse shell). Ota yhteys vastaan metasploitin multi/handler -työkalulla. </u>

## <u> f) Asenna Windows virtuaalikoneeseen. Voi olla esimerkiksi Metasploitable 3 tai Microsoftin sivuilta saatava ilmainen kokeiluversio. </u>

## <u> g) Ota Windowsiin graafinen etähallintayhteys Linuxista. Käytä RDP:tä eli Remote Desktop Protocol.</u>

